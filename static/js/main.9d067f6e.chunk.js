(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,r){e.exports=r(99)},50:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){},69:function(e,t,r){},70:function(e,t,r){},96:function(e,t){},99:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(26),o=r.n(a),h=(r(50),r(2)),i=r.n(h),c=r(10),l=r(3),p=r(4),d=r(7),m=r(5),u=r(6),T=r(1),f=r(8),b=(r(64),r(65),r(66),r(67),function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(m.a)(t).call(this,e))).shortener=r.shortener.bind(Object(T.a)(Object(T.a)(r))),r}return Object(u.a)(t,e),Object(p.a)(t,[{key:"shortener",value:function(){if(this.props.children.toString().length>4){var e=this.props.children/1e3;return console.log(e),e=e.toString().split(".",1),"".concat(e,"k")}return this.props.children}},{key:"render",value:function(){return s.a.createElement("div",{className:"valueDisplay ".concat(this.props.css)},this.shortener())}}]),t}(n.Component)),v=(r(68),function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleButtonClick=r.handleButtonClick.bind(Object(T.a)(Object(T.a)(r))),r.handleCSS=r.handleCSS.bind(Object(T.a)(Object(T.a)(r))),r}return Object(u.a)(t,e),Object(p.a)(t,[{key:"handleButtonClick",value:function(e){e.stopPropagation(),this.props.disabled||this.props.clickMethod()}},{key:"handleCSS",value:function(){return"+"===this.props.children?"green":"-"===this.props.children?"red":void 0}},{key:"render",value:function(){var e=this.handleCSS();return s.a.createElement("div",{onClick:this.handleButtonClick,className:"btn-wrapper ".concat(e)},this.props.children)}}]),t}(n.Component)),j=(r(69),function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(m.a)(t).call(this,e))).shortener=r.shortener.bind(Object(T.a)(Object(T.a)(r))),r.determineCSS=r.determineCSS.bind(Object(T.a)(Object(T.a)(r))),r}return Object(u.a)(t,e),Object(p.a)(t,[{key:"shortener",value:function(){if(this.props.children.toString().length>4){var e=this.props.children/1e3;return console.log(e),e=e.toString().split(".",1),"".concat(e,"k")}return this.props.children}},{key:"determineCSS",value:function(){return this.props.children<5e5?"dark":"light"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",{className:"data ".concat(this.props.css)},this.shortener()),s.a.createElement("h3",{className:this.props.css},"Activation Threshold"),s.a.createElement("div",{className:"adjuster"},s.a.createElement(v,{clickMethod:this.props.decrementThreshold,disabled:!1},"-"),s.a.createElement(b,{css:this.props.css},this.props.threshold),s.a.createElement(v,{clickMethod:this.props.incrementThreshold,disabled:!1},"+")))}},{key:"componentDidMount",value:function(){this.props.parentCSS(this.determineCSS())}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.props.parentCSS(this.determineCSS())}}]),t}(n.Component)),O=(r(70),function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(m.a)(t).call(this,e))).determineCSS=r.determineCSS.bind(Object(T.a)(Object(T.a)(r))),r}return Object(u.a)(t,e),Object(p.a)(t,[{key:"determineCSS",value:function(){return this.props.children<this.props.minTempThreshold?"cold":this.props.children>this.props.maxTempThreshold?"hot":"good"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",{className:"data ".concat(this.props.css)},"".concat(this.props.children," C")),s.a.createElement("h3",{className:this.props.css},"Minimum Temperature"),s.a.createElement("div",{className:"adjuster"},s.a.createElement(v,{clickMethod:this.props.decrementMinTempThreshold,disabled:!1},"-"),s.a.createElement(b,{css:this.props.css},this.props.minTempThreshold),s.a.createElement(v,{clickMethod:this.props.incrementMinTempThreshold,disabled:!1},"+")),s.a.createElement("h3",{className:this.props.css},"Maximum Temperature"),s.a.createElement("div",{className:"adjuster"},s.a.createElement(v,{clickMethod:this.props.decrementMaxTempThreshold,disabled:!1},"-"),s.a.createElement(b,{css:this.props.css},this.props.maxTempThreshold),s.a.createElement(v,{clickMethod:this.props.incrementMaxTempThreshold,disabled:!1},"+")))}},{key:"componentDidMount",value:function(){this.props.parentCSS(this.determineCSS())}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.props.parentCSS(this.determineCSS())}}]),t}(n.Component)),k=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={css:""},r.setCSS=r.setCSS.bind(Object(T.a)(Object(T.a)(r))),r.typeOfSensor=r.typeOfSensor.bind(Object(T.a)(Object(T.a)(r))),r}return Object(u.a)(t,e),Object(p.a)(t,[{key:"setCSS",value:function(e){this.setState({css:e})}},{key:"typeOfSensor",value:function(){return"Light"===this.props.type?s.a.createElement("div",null,s.a.createElement(j,{parentCSS:this.setCSS,css:this.state.css,threshold:this.props.threshold,incrementThreshold:this.props.incrementThreshold,decrementThreshold:this.props.decrementThreshold},this.props.children)):"Temperature"===this.props.type?s.a.createElement("div",null,s.a.createElement(O,{parentCSS:this.setCSS,css:this.state.css,minTempThreshold:this.props.minTempThreshold,maxTempThreshold:this.props.maxTempThreshold,incrementMinTempThreshold:this.props.incrementMinTempThreshold,decrementMinTempThreshold:this.props.decrementMinTempThreshold,incrementMaxTempThreshold:this.props.incrementMaxTempThreshold,decrementMaxTempThreshold:this.props.decrementMaxTempThreshold},this.props.children)):void 0}},{key:"render",value:function(){var e=this.typeOfSensor();return s.a.createElement("div",{className:"sensor ".concat(this.props.type," ").concat(this.state.css)},s.a.createElement("h2",{className:"header ".concat(this.state.css)},this.props.type),e)}}]),t}(n.Component),g=r(44),S=r.n(g),M="https://agiledevbear.ddns.net:8080",x=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={socket:S()(M),light:{value:0,threshold:1e4},temperature:{value:20,minThreshold:16,maxThreshold:24}},r.state.socket.on("tunnel",function(e){var t=JSON.parse(e);if("302CEM/bear/sensor_0/light_1"===t.topic){var n=r.state.light;n.value=t.message,r.setState({light:n})}if("302CEM/bear/sensor_0/temperature_0"===t.topic){var s=r.state.temperature;s.value=t.message,r.setState({temperature:s})}}),r.incrementThreshold=r.incrementThreshold.bind(Object(T.a)(Object(T.a)(r))),r.decrementThreshold=r.decrementThreshold.bind(Object(T.a)(Object(T.a)(r))),r.incrementMinTempThreshold=r.incrementMinTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.decrementMinTempThreshold=r.decrementMinTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.incrementMaxTempThreshold=r.incrementMaxTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.decrementMaxTempThreshold=r.decrementMaxTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.getLightThreshold=r.getLightThreshold.bind(Object(T.a)(Object(T.a)(r))),r.setLightThreshold=r.setLightThreshold.bind(Object(T.a)(Object(T.a)(r))),r.getMinTempThreshold=r.getMinTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.setMinTempThreshold=r.setMinTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.getMaxTempThreshold=r.getMaxTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r.setMaxTempThreshold=r.setMaxTempThreshold.bind(Object(T.a)(Object(T.a)(r))),r}return Object(u.a)(t,e),Object(p.a)(t,[{key:"incrementThreshold",value:function(){var e=this,t=this.state.light;t.threshold=t.threshold+1e3,this.setLightThreshold(t.threshold,function(r){r?(f.toast.error(r.message),console.log(r.messsage)):e.setState({light:t})})}},{key:"decrementThreshold",value:function(){var e=this,t=this.state.light;t.threshold=t.threshold-1e3,this.setLightThreshold(t.threshold,function(r){r?f.toast.error(r.message):e.setState({light:t})})}},{key:"incrementMinTempThreshold",value:function(){var e=this,t=this.state.temperature;t.minThreshold=t.minThreshold+.5,this.setMinTempThreshold(t.minThreshold,function(r){r?f.toast.error(r.message):e.setState({temperature:t})})}},{key:"decrementMinTempThreshold",value:function(){var e=this,t=this.state.temperature;t.minThreshold=t.minThreshold-.5,this.setMinTempThreshold(t.minThreshold,function(r){r?f.toast.error(r.message):e.setState({temperature:t})})}},{key:"incrementMaxTempThreshold",value:function(){var e=this,t=this.state.temperature;t.maxThreshold=t.maxThreshold+.5,this.setMaxTempThreshold(t.maxThreshold,function(r){r?f.toast.error(r.message):e.setState({temperature:t})})}},{key:"decrementMaxTempThreshold",value:function(){var e=this,t=this.state.temperature;t.maxThreshold=t.maxThreshold-.5,this.setMaxTempThreshold(t.maxThreshold,function(r){r?f.toast.error(r.message):e.setState({temperature:t})})}},{key:"getLightThreshold",value:function(){var e=Object(c.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,fetch("".concat(M,"/api/sensors/light/threshold?id=0"),{method:"get"}).then(function(e){if(e.ok)return console.log(e),e.json();throw new Error("Network response was not ok, status code: ".concat(e.status))}).then(function(e){return e.threshold});case 4:e.t1=e.sent,(0,e.t0)(null,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),t(e.t2);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"setLightThreshold",value:function(){var e=Object(c.a)(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/api/sensors/light/threshold"),{body:JSON.stringify({id:0,threshold:t}),headers:{"content-type":"application/json"},method:"post"}).then(function(e){if(!e.ok)throw new Error("Network response was not ok, status code: ".concat(e.status))});case 3:r(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"getMinTempThreshold",value:function(){var e=Object(c.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,fetch("".concat(M,"/api/sensors/temperature/threshold/min?id=1"),{method:"get"}).then(function(e){if(e.ok)return console.log(e),e.json();throw new Error("Network response was not ok, status code: ".concat(e.status))}).then(function(e){return e.threshold});case 4:e.t1=e.sent,(0,e.t0)(null,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),t(e.t2);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"setMinTempThreshold",value:function(){var e=Object(c.a)(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/api/sensors/temperature/threshold/min"),{body:JSON.stringify({id:0,threshold:t}),headers:{"content-type":"application/json"},method:"post"}).then(function(e){if(!e.ok)throw new Error("Network response was not ok, status code: ".concat(e.status))});case 3:r(null),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),r(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"getMaxTempThreshold",value:function(){var e=Object(c.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,fetch("".concat(M,"/api/sensors/temperature/threshold/max?id=1"),{method:"get"}).then(function(e){if(e.ok)return e.json();throw new Error("Network response was not ok, status code: ".concat(e.status))}).then(function(e){return e.threshold});case 4:e.t1=e.sent,(0,e.t0)(null,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),t(e.t2);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"setMaxTempThreshold",value:function(){var e=Object(c.a)(i.a.mark(function e(t,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M,"/api/sensors/temperature/threshold/max"),{body:JSON.stringify({id:1,threshold:t}),headers:{"content-type":"application/json"},method:"post"}).then(function(e){if(!e.ok)throw new Error("Network response was not ok, status code: ".concat(e.status))});case 3:r(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f.ToastContainer,{position:"top-center"}),s.a.createElement("div",{className:"sensorArray"},s.a.createElement(k,{type:"Light",threshold:this.state.light.threshold,incrementThreshold:this.incrementThreshold,decrementThreshold:this.decrementThreshold},this.state.light.value),s.a.createElement(k,{type:"Temperature",minTempThreshold:this.state.temperature.minThreshold,maxTempThreshold:this.state.temperature.maxThreshold,incrementMinTempThreshold:this.incrementMinTempThreshold,decrementMinTempThreshold:this.decrementMinTempThreshold,incrementMaxTempThreshold:this.incrementMaxTempThreshold,decrementMaxTempThreshold:this.decrementMaxTempThreshold},this.state.temperature.value)))}},{key:"componentDidMount",value:function(){var e=this;this.getLightThreshold(function(t,r){if(t)f.toast.error(t.message);else{console.log(r);var n=e.state.light;n.threshold=r,e.setState({light:n})}}),this.getMinTempThreshold(function(t,r){if(t)f.toast.error(t.message);else{console.log(r);var n=e.state.temperature;n.minThreshold=r,e.setState({temperature:n})}}),this.getMaxTempThreshold(function(t,r){if(t)f.toast.error(t.message);else{console.log(r);var n=e.state.temperature;n.maxThreshold=r,e.setState({temperature:n})}})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.9d067f6e.chunk.js.map